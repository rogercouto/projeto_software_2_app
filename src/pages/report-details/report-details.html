<!--
  Generated template for the ReportDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Detalhes relato</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-item>
    <ion-icon name="{{report.icon}}" item-start></ion-icon>
    <h2>{{report.description}}</h2>
    <p>{{report.address}}</p>
    <p>Situação: {{report.situation}}</p>
  </ion-item>
  <div *ngIf='report.photo != ""'>
    <img class="rep-photo" *ngIf="report.photo!=null" 
    src="http://cidadeunida.pipelinelab.com.br/storage/reports/{{report.photo}}"/>
  </div>
  <ion-item>
    <p><b>Aberta em:</b> {{report.createdAt |  date:'dd/MM/yyyy'}}</p>
    <div *ngIf="!mine" style="margin-top: 10px; text-align: center;">
      <button [disabled]="denounced" ion-button color="{{supportColor()}}" round (click)="support()">
        <ion-icon name="thumbs-up"></ion-icon>&nbsp;Apoiar ({{report.positiveReactions}})
      </button>
      &nbsp;
      <button [disabled]="supported" ion-button color="{{denounceColor()}}" round (click)="denounce()">
        <ion-icon name="thumbs-down"></ion-icon>&nbsp;Denunciar ({{report.negativeReactions}})
      </button>
    </div>
    <div *ngIf="mine" style="margin-top: 10px; text-align: center;">
        Apoiadores&nbsp;<ion-icon name="thumbs-up"></ion-icon>: {{report.positiveReactions}}
        &nbsp;
        Denuncias&nbsp;<ion-icon name="thumbs-down"></ion-icon>: {{report.negativeReactions}}
      </div>
  </ion-item>
  <ion-item *ngFor="let update of report.updates">
    <p><b>Atualização:</b> {{update.createdAt | date:'dd/MM/yyyy'}}</p>
    <p style="white-space: pre-line;">{{update.description}}</p>
  </ion-item>
  <!--
  -->
</ion-content>
